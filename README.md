# コンピューターシステムの設計の自動化

このプロジェクトは、コンピューターシステムの開発を生成AIによって自動的に開発を行うためのステップと、
ステップごとの成果物を定義します。その定義自体も生成AIによって自動的に生成されるものとします。


## 目的

アプリケーションをAIに自動的に生成させるには、仕様書を作成し、その仕様書に基づいてソフトウェアが開発されるという
ステップを踏むことで、人間とAIの目的意思の乖離を最小に抑えることができると考えます。
たとえ少量の乖離があったとしても、再生成に関して少量の指示によって実現できます。
また、人間が確認するにあたって、仕様書は重要な役割を果たします。これによって目的意思の乖離を図ることができます。


## 仕様書

要件定義書も含めた仕様書類は、主に人間が読むためのものと、生成AIに過不足なく伝えるためのものの2種類を用意します。
人間にはマークダウンファイルを提供し、生成AIの読み書きには XML 形式のファイルを想定します。

生成順序としては、XML を生成し、それに対して検証を行い、修正します。
仕様が確定するとマークダウンファイルを出力し、人間のためのドキュメントとします。


## 仕様書作成プロジェクトのフェーズ

1. ソフトウェア開発に伴うフェーズごとのドキュメントの種別とテンプレート(XML)を決めます
  - 要件定義フェーズ
  - 基本設計フェーズ
  - 詳細設計フェーズ
  - 開発フェーズ
  - テストフェーズ
1.5. XML仕様書からマークダウン仕様書を生成するためのツールを開発します
  - XML を XHTML としてブラウザ上で表示するための XSLT を生成する
  - index.html が目次となるようにする
2. 要件定義フェーズにおける、ユーザーが指定すべき項目類をマークダウンファイルとしてまとめます
  - XML 仕様書を埋めるべき項目を、より少ない質問で埋められるように、質問の項目数を少なくする
  - いくつかのアプリケーションの種類・運用の種類・規模のパターンを定義します
    - Web, コンソールアプリ, スマホアプリ, PCエンベデッド向けアプリ など
    - オンプレ運用, クラウド運用, オンラインで更新可能, オフラインで更新 など
    - 組み込み機器, スマートフォン, 分散バッチサーバー, Webサーバー数台, Webサーバー数百台 など
3. ドキュメントの対象の明確化

  ソースジェネレーター適用領域:
  - 構造化されたテンプレート変換（XSLT/XSLTプロセッサ）
  - 定型的なコード生成（CRUD操作、データモデル）
  - 設定ファイル生成（設定値の機械的変換）
  - インターフェース定義からのスタブ生成

  生成AI適用領域:
  - ビジネスロジックの実装判断
  - アーキテクチャパターンの選択
  - エラーハンドリング戦略
  - パフォーマンス最適化の実装

  この分離により、確実性が求められる部分は機械的処理で、創造性が必要な部分は生成AIが担当できます。XMLスキーマの設計
  時に、どの要素がソースジェネレーター向け（構造化データ）で、どの要素が生成AI向け（自然言語記述）かを明確に区別します。



## 仮想アプリケーションにおける想定ドキュメント

1. 要件定義フェーズのドキュメント(XML)生成を行います。要件定義用のディレクトリに出力します。
  - XML仕様書の生成
  - チェック
  - マークダウン仕様書の生成
2. 基本設計フェーズのドキュメント(XML)生成を行います。基本設計フェーズ用のディレクトリに出力します。
  - XML仕様書の生成
  - チェック
  - マークダウン仕様書の生成
3. 詳細設計フェーズのドキュメント(XML)生成を行います。詳細設計フェーズ用のディレクトリに出力します。
  - XML仕様書の生成
  - チェック
  - マークダウン仕様書の生成
4. 開発フェーズのドキュメント(XML)生成を行います。開発フェーズ用のディレクトリに出力します。
  - XML仕様書の生成
  - チェック
  - マークダウン仕様書の生成
5. テストフェーズのドキュメント(XML)生成を行います。テストフェーズ用のディレクトリに出力します。
  - XML仕様書の生成
  - チェック
  - マークダウン仕様書の生成


## AIによる自動化作業のルール

AIによる生成時には、必ず以下のルールに従って動きます。

- README.md や、各仕様書(XML)の内容を読み、深く理解します
- 人間による指示は、生成フェーズとチェックフェーズの2回に分けられ、これを繰り返します
- 生成フェーズ
  - 指示内容をルールや仕様書に照らし合わせて、矛盾や疑問点がないか確認し、ある場合は生成作業に入らず、その旨を出力して生成を停止します(人間に指示を仰ぎます)
- チェックフェーズ
  - 生成された仕様書を、その前提となる仕様書に基づいて以下のチェックを行います
    - 過不足の有無
    - 矛盾点の有無
    - 前提となる仕様書の不備によって決められなかったこと
